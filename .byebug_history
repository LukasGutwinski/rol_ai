quit
calculate_total_costs(model, response_body["usage"]["total_tokens"])
response_body["usage"]["total_tokens"]
response_body["usage"]["completion_tokens"]
response_body["usage"]["prompt_tokens"]
response_body["choices"][0]["message"]["content"]
response_body
quit
response_body
quit
yes
y
quit
response_body
quit
response_body
quit
c
prompt_without_placeholders
c
prompt_without_placeholders
c
prompt_without_placeholders
c
prompt_without_placeholders
quit
c
prompt_without_placeholders
c
prompt_without_placeholders
quit
c
article.requirement
text
article
text
c
article.requirement
c
text
c
y
article.requirement
quit
y
quit
prompt.legal_content.articles.second.requirement
prompt.legal_content.articles.second
prompt.legal_content.articles
prompt.legal_content
article.requirement
article
c
text
c
text
c
quit
prompt_without_placeholders
      prompt_without_placeholders = Prompt.replace_placeholder(prompt.content, article)
quit
prompt_without_placeholders
prompt_without_placeholders = Prompt.replace_placeholder(prompt.content, article)
quit
prompt.content
      Prompt.replace_placeholder(prompt.content, article)
prompt.content
article
quit
Prompt.replace_placeholder(prompt.content, article)
article
prompt.content
quit
total_tokens.to_f / 1000 * 0.02
total_tokens / 1000 * 0.02
quit
response_body["usage"]["completion_tokens"]
response_body["usage"]["completion_tokens"],
response_body["usage"]["prompt_tokens"]
response_body
quit
model
response_body["usage"]["total_tokens"]
response_body["usage"]["completion_tokens"]
response_body["usage"]["prompt_tokens"]
response_body["prompt_tokens"]
prompt.id
article_id
articles_id
response_body
prompt
c
prompt.legal_content
prompt
quit
prompt.legal_content
prompt
c
response_body
c
response_body
quit
response_body
quit
row["F8"]
row["D8"]
row["D7"]
row_number
row["D#{row_number}"]
row
    p "Gesetz / Verordnung: " + row["D#{row_number}"].to_s
quit
row
